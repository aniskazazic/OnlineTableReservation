<div class="ai-chat-window" *ngIf="show">
  <div class="ai-chat-header">
    <span>AI Assistant</span>
    <button class="close-btn" (click)="close()">✖</button>
  </div>
  <div class="input-row">
    <textarea [(ngModel)]="prompt" placeholder="Ask me anything..."></textarea>
    <button class="clear-btn" *ngIf="prompt" (click)="clearPrompt()" title="Clear">✖</button>
  </div>
  <button (click)="send()" [disabled]="loading">Send</button>


    <div *ngIf="loading" class="spinner-container">
      <div class="spinner"></div>
      <span>Generating...</span>
    </div>

    <div class="ai-response" *ngIf="response && !loading">
      {{ response }}
    </div>

  </div>
